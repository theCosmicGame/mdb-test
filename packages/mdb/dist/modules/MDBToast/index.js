"use strict";var t=require("react"),e=require("react-dom"),n=require("clsx");function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=o(t),a=o(e),c=o(n),l=function(){return l=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},l.apply(this,arguments)};function i(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}var u=r.default.forwardRef((function(t,e){var n=t.className,o=t.color,a=t.children,u=i(t,["className","color","children"]),s=c.default("toast-header",o&&"bg-".concat(o),o&&"light"!==o&&"text-white",n);return r.default.createElement("div",l({className:s,ref:e},u),a)})),s=r.default.forwardRef((function(t,e){var n=t.className,o=t.children,a=t.color,u=i(t,["className","children","color"]),s=c.default("toast-body",a&&"light"!==a&&"text-white",n);return r.default.createElement("div",l({className:s,ref:e},u),o)})),f=function(e){var n=i(e,[]),o=t.useState(!1),a=o[0],u=o[1],s=c.default("ripple-wave",a&&"active");return t.useEffect((function(){var t=setTimeout((function(){u(!0)}),50);return function(){clearTimeout(t)}}),[]),r.default.createElement("div",l({className:s},n))},d=r.default.forwardRef((function(e,n){var o=e.className,a=e.rippleTag,u=e.rippleCentered,s=e.rippleDuration,d=e.rippleUnbound,p=e.rippleRadius,h=e.rippleColor,m=e.children,g=e.onClick,b=i(e,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick"]),v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r.default.useRef();return r.default.useEffect((function(){t.forEach((function(t){t&&("function"==typeof t?t(n.current):t.current=n.current)}))}),[t]),n}(n,t.useRef(null)),y=[0,0,0],w=["primary","secondary","success","danger","warning","info","light","dark"],E=t.useState([]),C=E[0],k=E[1],N=t.useState(!1),R=N[0],x=N[1],T=c.default("ripple","ripple-surface",d&&"ripple-surface-unbound",R&&"ripple-surface-".concat(h),o),S=function(){if(w.find((function(t){return t===(null==h?void 0:h.toLowerCase())})))return x(!0);var t=O(h).join(","),e="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(t));return"radial-gradient(circle, ".concat(e,")")},O=function(t){return"transparent"===t.toLowerCase()?y:"#"===t[0]?function(t){return t.length<7&&(t="#".concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2]).concat(t[3]).concat(t[3])),[parseInt(t.substr(1,2),16),parseInt(t.substr(3,2),16),parseInt(t.substr(5,2),16)]}(t):(-1===t.indexOf("rgb")&&(t=function(t){var e=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return e.style.color=n,e.style.color!==n?y:(e.style.color=t,e.style.color===n||""===e.style.color?y:(t=getComputedStyle(e).color,document.body.removeChild(e),t))}(t)),0===t.indexOf("rgb")?function(t){return(t=t.match(/[.\d]+/g).map((function(t){return+Number(t)}))).length=3,t}(t):y)},L=function(t){var e,n=null===(e=v.current)||void 0===e?void 0:e.getBoundingClientRect(),o=t.clientX-n.left,r=t.clientY-n.top,a=n.height,c=n.width,i={delay:s&&.5*s,duration:s&&s-.5*s},f=function(t){var e=t.offsetX,n=t.offsetY,o=t.height,r=t.width,a=n<=o/2,c=e<=r/2,l=function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))},i=n===o/2&&e===r/2,u=!0===a&&!1===c,s=!0===a&&!0===c,f=!1===a&&!0===c,d=!1===a&&!1===c,p={topLeft:l(e,n),topRight:l(r-e,n),bottomLeft:l(e,o-n),bottomRight:l(r-e,o-n)},h=0;return i||d?h=p.topLeft:f?h=p.topRight:s?h=p.bottomRight:u&&(h=p.bottomLeft),2*h}({offsetX:u?a/2:o,offsetY:u?c/2:r,height:a,width:c}),d=p||f/2,h={left:"".concat(u?c/2-d:o-d,"px"),top:"".concat(u?a/2-d:r-d,"px"),height:"".concat(p?2*p:f,"px"),width:"".concat(p?2*p:f,"px"),transitionDelay:"0s, ".concat(i.delay,"ms"),transitionDuration:"".concat(s,"ms, ").concat(i.duration,"ms")};return R?h:l(l({},h),{backgroundImage:"".concat(S())})};return t.useEffect((function(){var t=setTimeout((function(){C.length>0&&k(C.splice(1,C.length-1))}),s);return function(){clearTimeout(t)}}),[s,C]),r.default.createElement(a,l({className:T,onClick:function(t){return function(t){var e=L(t),n=C.concat(e);k(n),g&&g(t)}(t)},ref:v},b),m,C.map((function(t,e){return r.default.createElement(f,{key:e,style:t})})))}));d.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var p=r.default.forwardRef((function(e,n){var o,a=e.className,u=e.color,s=e.outline,f=e.children,p=e.rounded,h=e.disabled,m=e.floating,g=e.size,b=e.href,v=e.block,y=e.active,w=e.toggle,E=e.noRipple,C=e.tag,k=i(e,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),N=t.useState(y||!1),R=N[0],x=N[1],T=u&&["light","link"].includes(u)||s?"dark":"light";o="none"!==u?s?u?"btn-outline-".concat(u):"btn-outline-primary":u?"btn-".concat(u):"btn-primary":"";var S=c.default("none"!==u&&"btn",o,p&&"btn-rounded",m&&"btn-floating",g&&"btn-".concat(g),"".concat((b||"button"!==C)&&h?"disabled":""),v&&"btn-block",R&&"active",a);return b&&"a"!==C&&(C="a"),["hr","img","input"].includes(C)||E?r.default.createElement(C,l({className:S,onClick:w?function(){x(!R)}:void 0,disabled:!(!h||"button"!==C)||void 0,href:b,ref:n},k),f):r.default.createElement(d,l({rippleTag:C,rippleColor:T,className:S,onClick:w?function(){x(!R)}:void 0,disabled:!(!h||"button"!==C)||void 0,href:b,ref:n},k),f)}));p.defaultProps={tag:"button",role:"button",color:"primary"};var h=r.default.forwardRef((function(t,e){var n=t.className,o=t.white,a=t.children,u=i(t,["className","white","children"]),s=c.default("btn-close",o&&"btn-close-white",n);return r.default.createElement(p,l({className:s,color:"none",ref:e},u),a)})),m=function(e){var n=e.className,o=e.position,f=e.delay,d=e.autohide,p=e.width,m=e.onShow,g=e.onHide,b=e.containerRef,v=e.toastRef,y=e.offset,w=e.stacking,E=e.appendToBody,C=e.color,k=e.triggerRef,N=e.show,R=e.bodyContent,x=e.headerContent,T=e.bodyClasses,S=e.headerClasses,O=e.closeBtnClasses,L=i(e,["className","position","delay","autohide","width","onShow","onHide","containerRef","toastRef","offset","stacking","appendToBody","color","triggerRef","show","bodyContent","headerContent","bodyClasses","headerClasses","closeBtnClasses"]),j=t.useState(N),P=j[0],I=j[1],q=t.useState(N),B=q[0],D=q[1],H=t.useState({}),M=H[0],X=H[1],Y=t.useState(P?"block":"none"),z=Y[0],A=Y[1],U=t.useState(0),F=U[0],G=U[1],J=t.useState(!0),K=J[0],Q=J[1],V=t.useRef(null),W=v||V,Z=c.default("toast","fade",o&&!b&&"toast-fixed",o&&"toast-".concat(o),b&&"toast-absolute",C&&"bg-".concat(C),P&&B&&"show",w&&"stacking-toast",n);t.useEffect((function(){Q(!1)}),[]),t.useEffect((function(){var t,e;if(o){var n=o.split("-")[0],r=o.split("-")[1],a="top"===n?"bottom":"top",c="left"===r?"right":"left";X("center"===r?((t={})[n]="".concat(void 0!==y?y+F:F,"px"),t.left="50%",t[a]="unset",t.transform="translate(-50%)",t):((e={})[n]="".concat(void 0!==y?y+F:F,"px"),e[r]="".concat(y,"px"),e[a]="unset",e[c]="unset",e.transform="unset",e))}}),[y,o,F]);t.useEffect((function(){if(w&&P){var t=document.querySelectorAll(".toast-".concat(o)),e=0,n=b?"toast-absolute":"toast-fixed",r=Array.from(t).filter((function(t){return t.classList.contains("show")&&t!==W.current&&t.classList.contains(n)&&t.classList.contains("stacking-toast")}));if(r.length>0){var a=void 0;a="top"===(null==o?void 0:o.split("-")[0])?r[r.length-1].offsetTop+r[r.length-1].offsetHeight:parseInt(r[r.length-1].style.bottom)+r[r.length-1].offsetHeight,e=y?a+y:a}G(e)}}),[w,P,W,F,y,o,b]);var $=t.useCallback((function(){I(!0)}),[]);t.useEffect((function(){P&&A("block"),P||B||(A("none"),K||null==g||g())}),[P,B,g]),t.useEffect((function(){I(N)}),[N]),t.useEffect((function(){if(null!=k){var t=k.current;return k.current.addEventListener("click",$),function(){t.removeEventListener("click",$)}}}),[k,$]),t.useEffect((function(){null!=b&&b.current.classList.add("parent-toast-relative")}),[b]),t.useEffect((function(){var t;return d&&P&&(t=setTimeout((function(){I(!1)}),f)),function(){clearTimeout(t)}}),[d,P,f]),t.useEffect((function(){var t,e;return P?(null==m||m(),t=setTimeout((function(){D(!0)}),100)):P||(e=setTimeout((function(){D(!1)}),100)),function(){clearTimeout(t),clearTimeout(e)}}),[P,d,m]);var _=r.default.createElement("div",l({className:Z,ref:W,style:l(l({},M),{width:"unset"===p?p:"".concat(p,"px"),display:z})},L),x&&r.default.createElement(u,{className:S,color:C},x,r.default.createElement(h,{onClick:function(){I(!1)},className:O,white:!(!C||"light"===C)})),r.default.createElement(s,{className:T,color:C},R));return P||B?E?a.default.createPortal(_,document.body):_:r.default.createElement(r.default.Fragment,null)};m.defaultProps={offset:10,width:"width",delay:1e3,show:!1},module.exports=m;
