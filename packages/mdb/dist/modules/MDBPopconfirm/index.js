"use strict";var e=require("clsx"),t=require("react"),n=require("react-dom"),r=require("react-popper");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(e),c=o(t),l=o(n),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function u(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}var s=function(e){var n=u(e,[]),r=t.useState(!1),o=r[0],l=r[1],s=a.default("ripple-wave",o&&"active");return t.useEffect((function(){var e=setTimeout((function(){l(!0)}),50);return function(){clearTimeout(e)}}),[]),c.default.createElement("div",i({className:s},n))},f=c.default.forwardRef((function(e,n){var r=e.className,o=e.rippleTag,l=e.rippleCentered,f=e.rippleDuration,p=e.rippleUnbound,d=e.rippleRadius,m=e.rippleColor,b=e.children,g=e.onClick,h=u(e,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick"]),v=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=c.default.useRef();return c.default.useEffect((function(){e.forEach((function(e){e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[e]),n}(n,t.useRef(null)),C=[0,0,0],y=["primary","secondary","success","danger","warning","info","light","dark"],E=t.useState([]),k=E[0],w=E[1],N=t.useState(!1),T=N[0],x=N[1],O=a.default("ripple","ripple-surface",p&&"ripple-surface-unbound",T&&"ripple-surface-".concat(m),r),R=function(){if(y.find((function(e){return e===(null==m?void 0:m.toLowerCase())})))return x(!0);var e=S(m).join(","),t="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e));return"radial-gradient(circle, ".concat(t,")")},S=function(e){return"transparent"===e.toLowerCase()?C:"#"===e[0]?function(e){return e.length<7&&(e="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n?C:(t.style.color=e,t.style.color===n||""===t.style.color?C:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):C)},B=function(e){var t,n=null===(t=v.current)||void 0===t?void 0:t.getBoundingClientRect(),r=e.clientX-n.left,o=e.clientY-n.top,a=n.height,c=n.width,u={delay:f&&.5*f,duration:f&&f-.5*f},s=function(e){var t=e.offsetX,n=e.offsetY,r=e.height,o=e.width,a=n<=r/2,c=t<=o/2,l=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},i=n===r/2&&t===o/2,u=!0===a&&!1===c,s=!0===a&&!0===c,f=!1===a&&!0===c,p=!1===a&&!1===c,d={topLeft:l(t,n),topRight:l(o-t,n),bottomLeft:l(t,r-n),bottomRight:l(o-t,r-n)},m=0;return i||p?m=d.topLeft:f?m=d.topRight:s?m=d.bottomRight:u&&(m=d.bottomLeft),2*m}({offsetX:l?a/2:r,offsetY:l?c/2:o,height:a,width:c}),p=d||s/2,m={left:"".concat(l?c/2-p:r-p,"px"),top:"".concat(l?a/2-p:o-p,"px"),height:"".concat(d?2*d:s,"px"),width:"".concat(d?2*d:s,"px"),transitionDelay:"0s, ".concat(u.delay,"ms"),transitionDuration:"".concat(f,"ms, ").concat(u.duration,"ms")};return T?m:i(i({},m),{backgroundImage:"".concat(R())})};return t.useEffect((function(){var e=setTimeout((function(){k.length>0&&w(k.splice(1,k.length-1))}),f);return function(){clearTimeout(e)}}),[f,k]),c.default.createElement(o,i({className:O,onClick:function(e){return function(e){var t=B(e),n=k.concat(t);w(n),g&&g(e)}(e)},ref:v},h),b,k.map((function(e,t){return c.default.createElement(s,{key:t,style:e})})))}));f.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var p=c.default.forwardRef((function(e,n){var r,o=e.className,l=e.color,s=e.outline,p=e.children,d=e.rounded,m=e.disabled,b=e.floating,g=e.size,h=e.href,v=e.block,C=e.active,y=e.toggle,E=e.noRipple,k=e.tag,w=u(e,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),N=t.useState(C||!1),T=N[0],x=N[1],O=l&&["light","link"].includes(l)||s?"dark":"light";r="none"!==l?s?l?"btn-outline-".concat(l):"btn-outline-primary":l?"btn-".concat(l):"btn-primary":"";var R=a.default("none"!==l&&"btn",r,d&&"btn-rounded",b&&"btn-floating",g&&"btn-".concat(g),"".concat((h||"button"!==k)&&m?"disabled":""),v&&"btn-block",T&&"active",o);return h&&"a"!==k&&(k="a"),["hr","img","input"].includes(k)||E?c.default.createElement(k,i({className:R,onClick:y?function(){x(!T)}:void 0,disabled:!(!m||"button"!==k)||void 0,href:h,ref:n},w),p):c.default.createElement(f,i({rippleTag:k,rippleColor:O,className:R,onClick:y?function(){x(!T)}:void 0,disabled:!(!m||"button"!==k)||void 0,href:h,ref:n},w),p)}));p.defaultProps={tag:"button",role:"button",color:"primary"};var d=function(e){var n=e.className,o=e.btnClassName,s=e.btnChildren,f=e.confirmBtnText,d=e.cancelBtnClasses,m=e.confirmBtnClasses,b=e.cancelBtnText,g=e.placement,h=e.children,v=e.modal,C=e.onClick,y=e.onConfirm,E=e.onCancel,k=e.options,w=e.popperTag,N=u(e,["className","btnClassName","btnChildren","confirmBtnText","cancelBtnClasses","confirmBtnClasses","cancelBtnText","placement","children","modal","onClick","onConfirm","onCancel","options","popperTag"]),T=t.useState(),x=T[0],O=T[1],R=t.useState(),S=R[0],B=R[1],j=t.useState(!1),P=j[0],L=j[1],q=t.useState(!1),D=q[0],I=q[1],z=t.useState(!1),M=z[0],X=z[1],Y=r.usePopper(x,S,i({placement:g},k)),F=Y.styles,U=Y.attributes,A=a.default(v?"popconfirm-modal":"popconfirm-popover","shadow-4",n),G=a.default("popconfirm",!v&&"fade",D&&"show"),H=t.useCallback((function(e){var t=x===e.target,n=e.target===S,r=S&&S.contains(e.target),o=null==x?void 0:x.contains(e.target);t||n||r||o||L(!1)}),[S,x]);t.useEffect((function(){P?(X(!0),setTimeout((function(){I(!0)}),0)):(I(!1),v?X(!1):setTimeout((function(){X(!1)}),150))}),[P,v]),t.useEffect((function(){return window.addEventListener("click",H),function(){window.removeEventListener("click",H)}}),[H]);var J=c.default.createElement("div",{className:G},h,c.default.createElement("div",{className:"popconfirm-buttons-container"},c.default.createElement(p,{className:d,onClick:function(e){null==E||E(e),L(!1)},size:"sm"},b),c.default.createElement(p,{className:m,onClick:function(e){null==y||y(e),L(!1)},size:"sm"},f)));return c.default.createElement(c.default.Fragment,null,c.default.createElement(p,i({onClick:function(e){L(!0),C&&C(e)},className:o},N,{ref:O}),s),M&&l.default.createPortal(c.default.createElement(c.default.Fragment,null,v?c.default.createElement("div",{className:"popconfirm-backdrop"},c.default.createElement(w,{ref:B,className:A},J)):c.default.createElement(w,i({className:A,ref:B,style:i({},F.popper)},U.popper),J)),document.body))};d.defaultProps={popperTag:"div",placement:"top",modal:!1,cancelBtnText:"Cancel",confirmBtnText:"Ok"},module.exports=d;
