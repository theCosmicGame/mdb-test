"use strict";var e=require("clsx"),t=require("react"),n=require("react-dom"),a=require("react-popper");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=o(e),l=o(t),c=o(n),i=function(){return i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function u(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}var s=function(e){var n=u(e,[]),a=t.useState(!1),o=a[0],c=a[1],s=r.default("ripple-wave",o&&"active");return t.useEffect((function(){var e=setTimeout((function(){c(!0)}),50);return function(){clearTimeout(e)}}),[]),l.default.createElement("div",i({className:s},n))},f=l.default.forwardRef((function(e,n){var a=e.className,o=e.rippleTag,c=e.rippleCentered,f=e.rippleDuration,p=e.rippleUnbound,d=e.rippleRadius,m=e.rippleColor,v=e.children,g=e.onClick,b=u(e,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick"]),h=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=l.default.useRef();return l.default.useEffect((function(){e.forEach((function(e){e&&("function"==typeof e?e(n.current):e.current=n.current)}))}),[e]),n}(n,t.useRef(null)),y=[0,0,0],E=["primary","secondary","success","danger","warning","info","light","dark"],C=t.useState([]),w=C[0],N=C[1],S=t.useState(!1),k=S[0],T=S[1],M=r.default("ripple","ripple-surface",p&&"ripple-surface-unbound",k&&"ripple-surface-".concat(m),a),x=function(){if(E.find((function(e){return e===(null==m?void 0:m.toLowerCase())})))return T(!0);var e=L(m).join(","),t="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e));return"radial-gradient(circle, ".concat(t,")")},L=function(e){return"transparent"===e.toLowerCase()?y:"#"===e[0]?function(e){return e.length<7&&(e="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n?y:(t.style.color=e,t.style.color===n||""===t.style.color?y:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):y)},O=function(e){var t,n=null===(t=h.current)||void 0===t?void 0:t.getBoundingClientRect(),a=e.clientX-n.left,o=e.clientY-n.top,r=n.height,l=n.width,u={delay:f&&.5*f,duration:f&&f-.5*f},s=function(e){var t=e.offsetX,n=e.offsetY,a=e.height,o=e.width,r=n<=a/2,l=t<=o/2,c=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},i=n===a/2&&t===o/2,u=!0===r&&!1===l,s=!0===r&&!0===l,f=!1===r&&!0===l,p=!1===r&&!1===l,d={topLeft:c(t,n),topRight:c(o-t,n),bottomLeft:c(t,a-n),bottomRight:c(o-t,a-n)},m=0;return i||p?m=d.topLeft:f?m=d.topRight:s?m=d.bottomRight:u&&(m=d.bottomLeft),2*m}({offsetX:c?r/2:a,offsetY:c?l/2:o,height:r,width:l}),p=d||s/2,m={left:"".concat(c?l/2-p:a-p,"px"),top:"".concat(c?r/2-p:o-p,"px"),height:"".concat(d?2*d:s,"px"),width:"".concat(d?2*d:s,"px"),transitionDelay:"0s, ".concat(u.delay,"ms"),transitionDuration:"".concat(f,"ms, ").concat(u.duration,"ms")};return k?m:i(i({},m),{backgroundImage:"".concat(x())})};return t.useEffect((function(){var e=setTimeout((function(){w.length>0&&N(w.splice(1,w.length-1))}),f);return function(){clearTimeout(e)}}),[f,w]),l.default.createElement(o,i({className:M,onClick:function(e){return function(e){var t=O(e),n=w.concat(t);N(n),g&&g(e)}(e)},ref:h},b),v,w.map((function(e,t){return l.default.createElement(s,{key:t,style:e})})))}));f.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var p=l.default.forwardRef((function(e,n){var a,o=e.className,c=e.color,s=e.outline,p=e.children,d=e.rounded,m=e.disabled,v=e.floating,g=e.size,b=e.href,h=e.block,y=e.active,E=e.toggle,C=e.noRipple,w=e.tag,N=u(e,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),S=t.useState(y||!1),k=S[0],T=S[1],M=c&&["light","link"].includes(c)||s?"dark":"light";a="none"!==c?s?c?"btn-outline-".concat(c):"btn-outline-primary":c?"btn-".concat(c):"btn-primary":"";var x=r.default("none"!==c&&"btn",a,d&&"btn-rounded",v&&"btn-floating",g&&"btn-".concat(g),"".concat((b||"button"!==w)&&m?"disabled":""),h&&"btn-block",k&&"active",o);return b&&"a"!==w&&(w="a"),["hr","img","input"].includes(w)||C?l.default.createElement(w,i({className:x,onClick:E?function(){T(!k)}:void 0,disabled:!(!m||"button"!==w)||void 0,href:b,ref:n},N),p):l.default.createElement(f,i({rippleTag:w,rippleColor:M,className:x,onClick:E?function(){T(!k)}:void 0,disabled:!(!m||"button"!==w)||void 0,href:b,ref:n},N),p)}));p.defaultProps={tag:"button",role:"button",color:"primary"};var d=function(e){var n=e.className,o=e.children,s=e.disableMouseDown,f=e.tag,p=e.tooltipTag,d=e.options,m=e.placement,v=e.title,g=e.wrapperProps,b=e.wrapperClass,h=e.onShow,y=e.onHide,E=e.onMouseEnter,C=e.onMouseLeave,w=u(e,["className","children","disableMouseDown","tag","tooltipTag","options","placement","title","wrapperProps","wrapperClass","onShow","onHide","onMouseEnter","onMouseLeave"]),N=t.useState(null),S=N[0],k=N[1],T=t.useState(null),M=T[0],x=T[1],L=t.useState(!1),O=L[0],P=L[1],I=t.useState(!1),R=I[0],j=I[1],D=t.useState(!1),z=D[0],H=D[1],q=t.useState(!1),A=q[0],F=q[1],B=r.default("tooltip",z&&"show","fade","bs-tooltip-".concat(m),n),X=a.usePopper(S,M,i({placement:m},d)),Y=X.styles,U=X.attributes;t.useEffect((function(){var e,t;return O||R?(F(!0),e=setTimeout((function(){H(!0)}),4)):(H(!1),t=setTimeout((function(){F(!1)}),300)),function(){clearTimeout(e),clearTimeout(t)}}),[O,R]);var G=t.useCallback((function(e){e.target===S?j(!0):j(!1)}),[S]);return t.useEffect((function(){if(!s)return document.addEventListener("mousedown",G),function(){document.removeEventListener("mousedown",G)}}),[G,s]),l.default.createElement(l.default.Fragment,null,l.default.createElement(f,i({className:b,onMouseEnter:function(e){P(!0),null==h||h(),E&&E(e)},onMouseLeave:function(e){P(!1),null==y||y(),C&&C(e)},ref:k},g),o),A&&c.default.createPortal(l.default.createElement(p,i({ref:x,className:B,style:Y.popper},U.popper,{role:"tooltip"},w),l.default.createElement("div",{className:"tooltip-inner"},v)),document.body))};d.defaultProps={tag:p,tooltipTag:"div",placement:"top"};var m=l.default.createContext({activeItem:0,dynamic:!1,dynamicStyle:{color:"",icon:""},setDynamicStyle:null,setActiveItem:null,hoveredItem:0,setHoveredItem:null,readonly:!1}),v=function(e){var t,n=e.animate,a=e.className,o=e.icon,c=e.fab,s=e.fas,f=e.fal,p=e.far,d=e.flag,m=e.spin,v=e.fixed,g=e.flip,b=e.list,h=e.size,y=e.pull,E=e.pulse,C=e.color,w=e.border,N=e.rotate,S=e.inverse,k=e.stack,T=e.iconType,M=e.children,x=u(e,["animate","className","icon","fab","fas","fal","far","flag","spin","fixed","flip","list","size","pull","pulse","color","border","rotate","inverse","stack","iconType","children"]);t=d?"flag":c?"fab":s?"fas":p?"far":f?"fal":"fa";var L=r.default(T?"fa-".concat(T):t,n&&"fa-".concat(n),d?"flag-".concat(d):o&&"fa-".concat(o),h&&"fa-".concat(h),C&&"text-".concat(C),w&&"fa-border",N&&"fa-rotate-".concat(N),y&&"fa-pull-".concat(y),m&&!n&&"fa-spin",b&&"fa-li",v&&"fa-fw",E&&!n&&"fa-pulse",S&&"fa-inverse",g&&"fa-flip-".concat(g),k&&"fa-stack-".concat(k),a);return l.default.createElement("i",i({className:L},x),M)},g=function(e){var n=e.className,o=e.btnClassName,s=e.btnChildren,f=e.children,p=e.tag,d=e.onShow,m=e.onHide,v=e.popperTag,g=e.isOpen,b=e.placement,h=e.dismiss,y=e.options,E=e.poperStyle,C=e.onClick,w=u(e,["className","btnClassName","btnChildren","children","tag","onShow","onHide","popperTag","isOpen","placement","dismiss","options","poperStyle","onClick"]),N=t.useState(),S=N[0],k=N[1],T=t.useState(),M=T[0],x=T[1],L=a.usePopper(S,M,i({placement:b},y)),O=L.styles,P=L.attributes,I=t.useState(null!=g&&g),R=I[0],j=I[1],D=t.useState(!1),z=D[0],H=D[1],q=t.useState(!1),A=q[0],F=q[1],B=r.default("popover fade",z&&R&&"show","bs-popover-".concat("left"===b?"start":"right"===b?"end":b),n);t.useEffect((function(){g||j(!1)}),[g]);var X=t.useCallback((function(e){A&&M&&null!==M&&R&&S&&null!==S&&(S.contains(e.target)||(j(!1),null==m||m()))}),[A,R,M,S,m]);return t.useEffect((function(){var e=setTimeout((function(){H(R)}),150);return function(){clearTimeout(e)}}),[R]),t.useEffect((function(){return R&&document.addEventListener("mousedown",X),function(){document.removeEventListener("mousedown",X)}}),[X,R]),l.default.createElement(l.default.Fragment,null,l.default.createElement(p,i({onClick:function(e){R&&!h?null==m||m():R||null==d||d(),h?(F(!0),j(!0)):j(!R),C&&C(e)},className:o},w,{ref:k}),s),(z||R)&&c.default.createPortal(l.default.createElement(v,i({className:B,ref:x,style:i(i({},O.popper),E)},P.popper),f),document.body))};g.defaultProps={tag:p,popperTag:"div",placement:"bottom"};var b=function(e){var t=e.className,n=e.children,a=e.tag,o=u(e,["className","children","tag"]),c=r.default("popover-body",t);return l.default.createElement(a,i({className:c},o),n)};b.defaultProps={tag:"div"};var h=function(e){var n=e.className,a=e.color,o=e.itemId,c=e.iconClassName,s=e.insertAfter,f=e.insertBefore,p=e.icon,h=e.onClick,y=e.onMouseEnter,E=e.onMouseLeave,C=e.popover,w=e.size,N=e.title,S=e.style,k=u(e,["className","color","itemId","iconClassName","insertAfter","insertBefore","icon","onClick","onMouseEnter","onMouseLeave","popover","size","title","style"]),T=t.useContext(m),M=T.activeItem,x=T.setActiveItem,L=T.hoveredItem,O=T.setHoveredItem,P=T.dynamic,I=T.dynamicStyle,R=T.setDynamicStyle,j=T.readonly,D=!L&&M&&M>=o||L>=o,z=r.default(D&&"active",!a&&"text-primary",c);t.useEffect((function(){P&&((L||M)===o&&R({color:a,icon:p}))}),[M,o,a,p,P,R,L]);var H=l.default.createElement(l.default.Fragment,null,l.default.createElement("li",i({className:n,onMouseEnter:function(e){j||(x&&O(o),y&&y(e))},onMouseLeave:function(e){j||(x&&O(0),E&&E(e))},onClick:function(e){j||(x&&x(o),h&&h(e))},style:i({cursor:j?"default":"pointer"},S)},k),f,l.default.createElement(v,{far:!D,fas:D,icon:I.icon?I.icon:p,size:w,className:z,style:{color:I.color?I.color:a&&a}}),s));return l.default.createElement(l.default.Fragment,null,N?l.default.createElement(d,{tag:"a",title:N},H):C?l.default.createElement(g,{tag:"a",btnChildren:H},l.default.createElement(b,null,C)):H)};h.defaultProps={size:"sm"},module.exports=h;
