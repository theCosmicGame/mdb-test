import e from"clsx";import t,{useState as n,useEffect as o,useRef as r,useCallback as a,useContext as c}from"react";import l from"react-dom";import{usePopper as i}from"react-popper";var s=function(){return s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};function u(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}var p=function(r){var a=u(r,[]),c=n(!1),l=c[0],i=c[1],p=e("ripple-wave",l&&"active");return o((function(){var e=setTimeout((function(){i(!0)}),50);return function(){clearTimeout(e)}}),[]),t.createElement("div",s({className:p},a))},f=t.forwardRef((function(a,c){var l=a.className,i=a.rippleTag,f=a.rippleCentered,m=a.rippleDuration,d=a.rippleUnbound,v=a.rippleRadius,g=a.rippleColor,b=a.children,h=a.onClick,y=u(a,["className","rippleTag","rippleCentered","rippleDuration","rippleUnbound","rippleRadius","rippleColor","children","onClick"]),E=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=t.useRef();return t.useEffect((function(){e.forEach((function(e){e&&("function"==typeof e?e(o.current):e.current=o.current)}))}),[e]),o}(c,r(null)),w=[0,0,0],C=["primary","secondary","success","danger","warning","info","light","dark"],N=n([]),k=N[0],T=N[1],M=n(!1),L=M[0],O=M[1],x=e("ripple","ripple-surface",d&&"ripple-surface-unbound",L&&"ripple-surface-".concat(g),l),I=function(){if(C.find((function(e){return e===(null==g?void 0:g.toLowerCase())})))return O(!0);var e=P(g).join(","),t="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%".split("{{color}}").join("".concat(e));return"radial-gradient(circle, ".concat(t,")")},P=function(e){return"transparent"===e.toLowerCase()?w:"#"===e[0]?function(e){return e.length<7&&(e="#".concat(e[1]).concat(e[1]).concat(e[2]).concat(e[2]).concat(e[3]).concat(e[3])),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]}(e):(-1===e.indexOf("rgb")&&(e=function(e){var t=document.body.appendChild(document.createElement("fictum")),n="rgb(1, 2, 3)";return t.style.color=n,t.style.color!==n?w:(t.style.color=e,t.style.color===n||""===t.style.color?w:(e=getComputedStyle(t).color,document.body.removeChild(t),e))}(e)),0===e.indexOf("rgb")?function(e){return(e=e.match(/[.\d]+/g).map((function(e){return+Number(e)}))).length=3,e}(e):w)},R=function(e){var t,n=null===(t=E.current)||void 0===t?void 0:t.getBoundingClientRect(),o=e.clientX-n.left,r=e.clientY-n.top,a=n.height,c=n.width,l={delay:m&&.5*m,duration:m&&m-.5*m},i=function(e){var t=e.offsetX,n=e.offsetY,o=e.height,r=e.width,a=n<=o/2,c=t<=r/2,l=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},i=n===o/2&&t===r/2,s=!0===a&&!1===c,u=!0===a&&!0===c,p=!1===a&&!0===c,f=!1===a&&!1===c,m={topLeft:l(t,n),topRight:l(r-t,n),bottomLeft:l(t,o-n),bottomRight:l(r-t,o-n)},d=0;return i||f?d=m.topLeft:p?d=m.topRight:u?d=m.bottomRight:s&&(d=m.bottomLeft),2*d}({offsetX:f?a/2:o,offsetY:f?c/2:r,height:a,width:c}),u=v||i/2,p={left:"".concat(f?c/2-u:o-u,"px"),top:"".concat(f?a/2-u:r-u,"px"),height:"".concat(v?2*v:i,"px"),width:"".concat(v?2*v:i,"px"),transitionDelay:"0s, ".concat(l.delay,"ms"),transitionDuration:"".concat(m,"ms, ").concat(l.duration,"ms")};return L?p:s(s({},p),{backgroundImage:"".concat(I())})};return o((function(){var e=setTimeout((function(){k.length>0&&T(k.splice(1,k.length-1))}),m);return function(){clearTimeout(e)}}),[m,k]),t.createElement(i,s({className:x,onClick:function(e){return function(e){var t=R(e),n=k.concat(t);T(n),h&&h(e)}(e)},ref:E},y),b,k.map((function(e,n){return t.createElement(p,{key:n,style:e})})))}));f.defaultProps={rippleTag:"div",rippleDuration:500,rippleRadius:0,rippleColor:"dark"};var m=t.forwardRef((function(o,r){var a,c=o.className,l=o.color,i=o.outline,p=o.children,m=o.rounded,d=o.disabled,v=o.floating,g=o.size,b=o.href,h=o.block,y=o.active,E=o.toggle,w=o.noRipple,C=o.tag,N=u(o,["className","color","outline","children","rounded","disabled","floating","size","href","block","active","toggle","noRipple","tag"]),k=n(y||!1),T=k[0],M=k[1],L=l&&["light","link"].includes(l)||i?"dark":"light";a="none"!==l?i?l?"btn-outline-".concat(l):"btn-outline-primary":l?"btn-".concat(l):"btn-primary":"";var O=e("none"!==l&&"btn",a,m&&"btn-rounded",v&&"btn-floating",g&&"btn-".concat(g),"".concat((b||"button"!==C)&&d?"disabled":""),h&&"btn-block",T&&"active",c);return b&&"a"!==C&&(C="a"),["hr","img","input"].includes(C)||w?t.createElement(C,s({className:O,onClick:E?function(){M(!T)}:void 0,disabled:!(!d||"button"!==C)||void 0,href:b,ref:r},N),p):t.createElement(f,s({rippleTag:C,rippleColor:L,className:O,onClick:E?function(){M(!T)}:void 0,disabled:!(!d||"button"!==C)||void 0,href:b,ref:r},N),p)}));m.defaultProps={tag:"button",role:"button",color:"primary"};var d=function(r){var c=r.className,p=r.children,f=r.disableMouseDown,m=r.tag,d=r.tooltipTag,v=r.options,g=r.placement,b=r.title,h=r.wrapperProps,y=r.wrapperClass,E=r.onShow,w=r.onHide,C=r.onMouseEnter,N=r.onMouseLeave,k=u(r,["className","children","disableMouseDown","tag","tooltipTag","options","placement","title","wrapperProps","wrapperClass","onShow","onHide","onMouseEnter","onMouseLeave"]),T=n(null),M=T[0],L=T[1],O=n(null),x=O[0],I=O[1],P=n(!1),R=P[0],S=P[1],D=n(!1),j=D[0],z=D[1],H=n(!1),A=H[0],F=H[1],B=n(!1),X=B[0],Y=B[1],U=e("tooltip",A&&"show","fade","bs-tooltip-".concat(g),c),q=i(M,x,s({placement:g},v)),G=q.styles,J=q.attributes;o((function(){var e,t;return R||j?(Y(!0),e=setTimeout((function(){F(!0)}),4)):(F(!1),t=setTimeout((function(){Y(!1)}),300)),function(){clearTimeout(e),clearTimeout(t)}}),[R,j]);var K=a((function(e){e.target===M?z(!0):z(!1)}),[M]);return o((function(){if(!f)return document.addEventListener("mousedown",K),function(){document.removeEventListener("mousedown",K)}}),[K,f]),t.createElement(t.Fragment,null,t.createElement(m,s({className:y,onMouseEnter:function(e){S(!0),null==E||E(),C&&C(e)},onMouseLeave:function(e){S(!1),null==w||w(),N&&N(e)},ref:L},h),p),X&&l.createPortal(t.createElement(d,s({ref:I,className:U,style:G.popper},J.popper,{role:"tooltip"},k),t.createElement("div",{className:"tooltip-inner"},b)),document.body))};d.defaultProps={tag:m,tooltipTag:"div",placement:"top"};var v=t.createContext({activeItem:0,dynamic:!1,dynamicStyle:{color:"",icon:""},setDynamicStyle:null,setActiveItem:null,hoveredItem:0,setHoveredItem:null,readonly:!1}),g=function(n){var o,r=n.animate,a=n.className,c=n.icon,l=n.fab,i=n.fas,p=n.fal,f=n.far,m=n.flag,d=n.spin,v=n.fixed,g=n.flip,b=n.list,h=n.size,y=n.pull,E=n.pulse,w=n.color,C=n.border,N=n.rotate,k=n.inverse,T=n.stack,M=n.iconType,L=n.children,O=u(n,["animate","className","icon","fab","fas","fal","far","flag","spin","fixed","flip","list","size","pull","pulse","color","border","rotate","inverse","stack","iconType","children"]);o=m?"flag":l?"fab":i?"fas":f?"far":p?"fal":"fa";var x=e(M?"fa-".concat(M):o,r&&"fa-".concat(r),m?"flag-".concat(m):c&&"fa-".concat(c),h&&"fa-".concat(h),w&&"text-".concat(w),C&&"fa-border",N&&"fa-rotate-".concat(N),y&&"fa-pull-".concat(y),d&&!r&&"fa-spin",b&&"fa-li",v&&"fa-fw",E&&!r&&"fa-pulse",k&&"fa-inverse",g&&"fa-flip-".concat(g),T&&"fa-stack-".concat(T),a);return t.createElement("i",s({className:x},O),L)},b=function(r){var c=r.className,p=r.btnClassName,f=r.btnChildren,m=r.children,d=r.tag,v=r.onShow,g=r.onHide,b=r.popperTag,h=r.isOpen,y=r.placement,E=r.dismiss,w=r.options,C=r.poperStyle,N=r.onClick,k=u(r,["className","btnClassName","btnChildren","children","tag","onShow","onHide","popperTag","isOpen","placement","dismiss","options","poperStyle","onClick"]),T=n(),M=T[0],L=T[1],O=n(),x=O[0],I=O[1],P=i(M,x,s({placement:y},w)),R=P.styles,S=P.attributes,D=n(null!=h&&h),j=D[0],z=D[1],H=n(!1),A=H[0],F=H[1],B=n(!1),X=B[0],Y=B[1],U=e("popover fade",A&&j&&"show","bs-popover-".concat("left"===y?"start":"right"===y?"end":y),c);o((function(){h||z(!1)}),[h]);var q=a((function(e){X&&x&&null!==x&&j&&M&&null!==M&&(M.contains(e.target)||(z(!1),null==g||g()))}),[X,j,x,M,g]);return o((function(){var e=setTimeout((function(){F(j)}),150);return function(){clearTimeout(e)}}),[j]),o((function(){return j&&document.addEventListener("mousedown",q),function(){document.removeEventListener("mousedown",q)}}),[q,j]),t.createElement(t.Fragment,null,t.createElement(d,s({onClick:function(e){j&&!E?null==g||g():j||null==v||v(),E?(Y(!0),z(!0)):z(!j),N&&N(e)},className:p},k,{ref:L}),f),(A||j)&&l.createPortal(t.createElement(b,s({className:U,ref:I,style:s(s({},R.popper),C)},S.popper),m),document.body))};b.defaultProps={tag:m,popperTag:"div",placement:"bottom"};var h=function(n){var o=n.className,r=n.children,a=n.tag,c=u(n,["className","children","tag"]),l=e("popover-body",o);return t.createElement(a,s({className:l},c),r)};h.defaultProps={tag:"div"};var y=function(n){var r=n.className,a=n.color,l=n.itemId,i=n.iconClassName,p=n.insertAfter,f=n.insertBefore,m=n.icon,y=n.onClick,E=n.onMouseEnter,w=n.onMouseLeave,C=n.popover,N=n.size,k=n.title,T=n.style,M=u(n,["className","color","itemId","iconClassName","insertAfter","insertBefore","icon","onClick","onMouseEnter","onMouseLeave","popover","size","title","style"]),L=c(v),O=L.activeItem,x=L.setActiveItem,I=L.hoveredItem,P=L.setHoveredItem,R=L.dynamic,S=L.dynamicStyle,D=L.setDynamicStyle,j=L.readonly,z=!I&&O&&O>=l||I>=l,H=e(z&&"active",!a&&"text-primary",i);o((function(){R&&((I||O)===l&&D({color:a,icon:m}))}),[O,l,a,m,R,D,I]);var A=t.createElement(t.Fragment,null,t.createElement("li",s({className:r,onMouseEnter:function(e){j||(x&&P(l),E&&E(e))},onMouseLeave:function(e){j||(x&&P(0),w&&w(e))},onClick:function(e){j||(x&&x(l),y&&y(e))},style:s({cursor:j?"default":"pointer"},T)},M),f,t.createElement(g,{far:!z,fas:z,icon:S.icon?S.icon:m,size:N,className:H,style:{color:S.color?S.color:a&&a}}),p));return t.createElement(t.Fragment,null,k?t.createElement(d,{tag:"a",title:k},A):C?t.createElement(b,{tag:"a",btnChildren:A},t.createElement(h,null,C)):A)};y.defaultProps={size:"sm"};export{y as default};
