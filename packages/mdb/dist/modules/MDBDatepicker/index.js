"use strict";var e=require("react"),t=require("react-dom"),n=require("clsx"),a=require("react-popper"),r=require("@popperjs/core");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=l(e),i=l(t),o=l(n),u=function(){return u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)};function s(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}var d=function(t){var n=t.animation,a=t.animationRef,r=t.className,l=t.children,i=t.delay,d=t.infinite,f=t.duration,m=t.enableTarget,p=t.target,v=t.repeatOnScroll,y=t.reset,b=t.setTarget,k=t.start,g=t.style,h=t.tag,E=s(t,["animation","animationRef","className","children","delay","infinite","duration","enableTarget","target","repeatOnScroll","reset","setTarget","start","style","tag"]),w=e.useState(!!p),D=w[0],S=w[1],x=e.useState(!1),C=x[0],N=x[1],T=e.useRef(!0),O=o.default(D&&"animation",D&&n,r),I=e.useRef(null),B=a||I,R=function(){S(!D)},F=e.useCallback((function(){if(B.current){var e=B.current.getBoundingClientRect().top+document.body.scrollTop,t=B.current.offsetHeight,n=e<=window.innerHeight&&e+t>=0;n&&T.current?(T.current=!1,i?setTimeout((function(){S(!0),N(!0)}),i):(S(!0),N(!0))):!n&&v&&(N(!1),T.current=!0)}}),[B,v,i]);return e.useEffect((function(){return"onScroll"===k&&window.addEventListener("scroll",F),function(){window.removeEventListener("scroll",F)}}),[F,k]),e.useEffect((function(){S(!!p)}),[p]),e.useEffect((function(){"onLoad"===k&&S(!0)}),[k]),e.useEffect((function(){D&&!d&&y&&setTimeout((function(){S(!D),m&&b(!1)}),f)}),[D,f,m,b,d,y]),c.default.createElement(c.default.Fragment,null,"onClick"===k&&!1===m&&c.default.createElement(h,u({onClick:R,className:O,ref:B},E,{style:u(u({},g),{animationDuration:"".concat(f,"ms"),animationIterationCount:d?"infinite":null,animationDelay:i?"".concat(i,"ms"):null})}),l),"onHover"===k&&!1===m&&c.default.createElement(h,u({onMouseEnter:R,className:O,ref:B},E,{style:u(u({},g),{animationDuration:"".concat(f,"ms"),animationIterationCount:d?"infinite":null,animationDelay:i?"".concat(i,"ms"):null})}),l),("onLoad"===k||!0===m)&&c.default.createElement(h,u({className:O,ref:B},E,{style:u(u({},g),{animationDuration:"".concat(f,"ms"),animationIterationCount:d?"infinite":null,animationDelay:i?"".concat(i,"ms"):null})}),l),"onScroll"===k&&c.default.createElement(h,u({className:O,ref:B},E,{style:u(u({},g),{animationDuration:"".concat(f,"ms"),visibility:C?"visible":"hidden",animationIterationCount:d?"infinite":null})}),l))};d.defaultProps={enableTarget:!1,target:!1,tag:"div",start:"onClick",duration:500,animation:"slide-right"};var f=function(e){var t=e.className,n=e.dropdown,a=e.children,r=e.isOpen,l=e.styles,i=e.attributes,s=e.setPopperElement,f=e.style,m=o.default("datepicker-dropdown-container",r?"fade-out":"fade-in","animation",t),p=o.default("datepicker-modal-container",t);return c.default.createElement(c.default.Fragment,null,n?c.default.createElement("div",u({style:u(u({position:"absolute",zIndex:1065},l.popper),{animationDuration:"300ms"})},i.popper,{ref:s,className:m,tabIndex:-1}),a):c.default.createElement(d,{tag:"div",start:"onLoad",animation:r?"fade-out":"fade-in",className:p,duration:300,style:f},a))};f.defaultProps={};var m={closeOnEsc:!0,title:"Select date",okBtnText:"Ok",clearBtnText:"Clear",cancelBtnText:"Cancel",customIcon:"far fa-calendar",inputLabel:"Select a date",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],views:"days",format:"dd/mm/yyyy",weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysNarrow:["S","M","T","W","T","F","S"],startDay:0};function p(e){return e.getDate()}function v(e){return e.getDay()}function y(e){return e.getMonth()}function b(e){return e.getFullYear()}function k(e){return function(e){return e.getDate()===g(e)}(e)?g(new Date(b(e),y(e)+1,1)):p(e)}function g(e){return function(e){return S(e.getFullYear(),e.getMonth()+1,0)}(e).getDate()}function h(){return new Date}function E(e,t){return w(e,12*t)}function w(e,t){var n=S(e.getFullYear(),e.getMonth()+t,e.getDate());return p(e)!==p(n)&&n.setDate(0),n}function D(e,t){return S(e.getFullYear(),e.getMonth(),e.getDate()+t)}function S(e,t,n){var a=new Date(e,t,n);return e>=0&&e<100&&a.setFullYear(a.getFullYear()-1900),a}function x(e){return!Number.isNaN(e.getTime())}function C(e,t){return b(e)-b(t)||y(e)-y(t)||p(e)-p(t)}function N(e,t){return e.setHours(0,0,0,0),t.setHours(0,0,0,0),e.getTime()===t.getTime()}function T(e){return parseInt(e,10)<10?"0".concat(e):e}function O(e,t){var n,a=b(e)-I(0,null,null);return(a%(n=t)+n)%n}function I(e,t,n){var a=0;n?a=b(n)-e+1:t&&(a=b(t));return a}function B(e,t,n,a){var r=t&&C(e,t)<=0,l=n&&C(e,n)>=0,c=a&&!1===a(e);return Boolean(r||l||c)}function R(e,t,n,a){var r=a&&b(a),l=a&&y(a),c=n&&b(n),i=n&&y(n);return!(!l||!r)&&(t>r||t===r&&e>l)||!(!i||!c)&&(t<c||t===c&&e<i)}function F(e,t,n){var a=t&&b(t),r=n&&b(n);return!!r&&e>r||!!a&&e<a}function A(e,t,n,a,r){return!!r&&M(e,r,t,n,a,r)}function L(e,t,n,a,r){return!!a&&M(e,a,t,n,a,r)}function M(e,t,n,a,r,l){if("days"===n)return b(e)===b(t)&&y(e)===y(t);if("months"===n)return b(e)===b(t);if("years"===n){var c=I(a,r,l);return Math.floor((b(e)-c)/a)===Math.floor((b(t)-c)/a)}return!1}function P(e,t,n,a){var r,l;if(t){var c=function(e){return e.match(/[^(dmy)]{1,}/g)}(t);if(c){r=c[0]!==c[1]?c[0]+c[1]:c[0];var i=new RegExp("[".concat(r,"]")),o=e.split(i),u=null==t?void 0:t.split(i),s=-1!==(null==t?void 0:t.indexOf("mmm")),d=[];null==u||u.forEach((function(e,t){-1!==e.indexOf("yy")&&(d[0]={value:o[t],format:e}),-1!==e.indexOf("m")&&(d[1]={value:o[t],format:e}),-1!==e.indexOf("d")&&e.length<=2&&(d[2]={value:o[t],format:e})}));var f=void 0;return f=-1!==(null==t?void 0:t.indexOf("mmmm"))?n:a,S(Number(d[0].value),s?(l=d[1].value,f.findIndex((function(e){return e===l}))):Number(d[1].value)-1,Number(d[2].value))}}}function V(e,t,n,a,r,l){var c=p(e),i=T(p(e).toString()),o=n[v(e)],u=a[v(e)],s=y(e),d=T((y(e)+1).toString()),f=r[y(e)],m=l[y(e)],k=2===b(e).toString().length?b(e):b(e).toString().slice(2,4),g=b(e),h=t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g),E="";return h.forEach((function(e){switch(e){case"dddd":e=e.replace(e,u);break;case"ddd":e=e.replace(e,o);break;case"dd":e=e.replace(e,i);break;case"d":e=e.replace(e,c.toString());break;case"mmmm":e=e.replace(e,m);break;case"mmm":e=e.replace(e,f);break;case"mm":e=e.replace(e,d);break;case"m":e=e.replace(e,s.toString());break;case"yyyy":e=e.replace(e,g.toString());break;case"yy":e=e.replace(e,k.toString())}E+=e})),E}var q=c.default.createContext({view:"days",setView:null,activeDate:new Date,setActiveDate:null,selectedDate:new Date,setSelectedDate:null,weekdaysShort:[],monthsShort:[],monthsFull:[],min:void 0,max:void 0,setIsClosing:null,weekdaysFull:[],yearScope:[],tabCount:0,inline:!1,isOpen:!1,isClosing:!1}),W=function(t){var n=t.clearBtnText,a=t.cancelBtnText,r=t.okBtnText,l=t.setValue,i=t.selectDate,o=e.useContext(q),u=o.setActiveDate,s=o.setSelectedDate,d=o.setIsClosing,f=o.selectedDate;return c.default.createElement("div",{className:"datepicker-footer",style:{position:"static"}},c.default.createElement("button",{tabIndex:0,onClick:function(e){return function(e){e.currentTarget.blur(),u(new Date),s(void 0),l("")}(e)},className:"datepicker-footer-btn datepicker-clear-btn"},n),c.default.createElement("button",{tabIndex:0,onClick:function(){return d(!0)},className:"datepicker-footer-btn datepicker-cancel-btn"},a),c.default.createElement("button",{tabIndex:0,onClick:function(){return i(f)},className:"datepicker-footer-btn datepicker-ok-btn"},r))};W.defaultProps={okBtnText:"Ok",clearBtnText:"Clear",cancelBtnText:"Cancel"};var j=function(e,t,n,a,r,l){for(var c=[],i=y(e),o=y(w(e,-1)),u=y(w(e,1)),s=b(e),d=function(e,t,n){var a=n>0?7-n:0,r=new Date(e,t).getDay()+a;return r>=7?r-7:r}(s,i,l),f=g(e),m=g(w(e,-1)),v=1,k=!1,E=1;E<7;E++){var D=[];if(1===E){for(var x=m-d+1;x<=m;x++){var C=S(s,o,x);D.push({date:C,currentMonth:k,isSelected:t&&N(C,t),isToday:N(C,h()),dayNumber:p(C),disabled:B(C,n,a,r)})}k=!0;var T=7-D.length;for(x=0;x<T;x++){C=S(s,i,v);D.push({date:C,currentMonth:k,isSelected:t&&N(C,t),isToday:N(C,h()),dayNumber:p(C),disabled:B(C,n,a,r)}),v++}}else for(x=1;x<8;x++){v>f&&(v=1,k=!1);C=S(s,k?i:u,v);D.push({date:C,currentMonth:k,isSelected:t&&N(C,t),isToday:N(C,h()),dayNumber:p(C),disabled:B(C,n,a,r)}),v++}c.push(D)}return c},H=function(t){var n=t.filter,a=t.startWeekdays,r=t.startDay,l=t.inlineDayClick,i=e.useContext(q),u=i.min,s=i.max,d=i.setActiveDate,f=i.setSelectedDate,m=i.activeDate,p=i.selectedDate,v=i.tabCount;return c.default.createElement("table",{className:"datepicker-table"},c.default.createElement("thead",null,c.default.createElement("tr",null,a.map((function(e,t){return c.default.createElement("th",{key:t,className:"datepicker-day-heading",scope:"col"},e)})))),c.default.createElement("tbody",{className:"datepicker-table-body"},j(m,p,u,s,n,r).map((function(e,t){return c.default.createElement("tr",{key:t},e.map((function(e,t){return c.default.createElement("td",{key:t,onClick:function(){var t;!B(t=e.date,u,s,n)&&(d(t),f(t),l(t))},tabIndex:N(e.date,m)?0:void 0,className:o.default("datepicker-cell","datepicker-small-cell","datepicker-day-cell",e.isToday&&"current",e.isSelected&&"selected",e.disabled&&"disabled",3===v&&N(e.date,m)&&"focused",y(m)!==y(e.date)&&"disabled")},c.default.createElement("div",{className:"datepicker-cell-content datepicker-small-cell-content",style:{display:e.currentMonth?"block":"none"}},e.dayNumber))})))}))))};H.defaultProps={};var Y=function(){var t=e.useContext(q),n=t.yearScope,a=t.setView,r=t.setActiveDate,l=t.activeDate,i=t.selectedDate,u=t.tabCount,s=t.min,d=t.max;return c.default.createElement("table",{className:"datepicker-table"},c.default.createElement("tbody",{className:"datepicker-table-body"},function(e){for(var t=[],n=e[0],a=[],r=0;r<24;r++)if(a.push(n+r),4===a.length){var l=a;t.push(l),a=[]}return t}(n).map((function(e,t){return c.default.createElement("tr",{key:t},e.map((function(e){return c.default.createElement("td",{key:e,onClick:function(){r(new Date(e,y(l),p(l))),a("months")},tabIndex:e===b(l)?0:void 0,className:o.default("datepicker-cell","datepicker-large-cell","datepicker-year-cell",i&&e===b(i)&&"selected",3===u&&e===b(l)&&"focused",F(e,s,d)&&"disabled",b(h())===e&&"current")},c.default.createElement("div",{className:"datepicker-cell-content datepicker-large-cell-content"},e))})))}))))};Y.defaultProps={okBtnText:"Ok",clearBtnText:"Clear",cancelBtnText:"Cancel"};var J=function(){var t=e.useContext(q),n=t.monthsShort,a=t.setActiveDate,r=t.setView,l=t.activeDate,i=t.selectedDate,u=t.tabCount,s=t.min,d=t.max;return c.default.createElement("table",{className:"datepicker-table"},c.default.createElement("tbody",{className:"datepicker-table-body"},function(e){var t=[],n=[];return e.forEach((function(e){if(n.push(e),4===n.length){var a=n;t.push(a),n=[]}})),t}(n).map((function(e,t){return c.default.createElement("tr",{key:t},e.map((function(e){return c.default.createElement("td",{key:n.indexOf(e),onClick:function(){a(new Date(b(l),n.indexOf(e),k(l))),r("days")},tabIndex:n.indexOf(e)===y(l)?0:void 0,className:o.default("datepicker-cell","datepicker-large-cell","datepicker-month-cell",i&&n.indexOf(e)===y(i)&&b(l)===b(i)&&"selected",3===u&&n.indexOf(e)===y(l)&&"focused",y(h())===n.indexOf(e)&&b(h())===b(l)&&"current",R(n.indexOf(e),b(l),s,d)&&"disabled")},c.default.createElement("div",{className:"datepicker-cell-content datepicker-large-cell-content"},e))})))}))))};J.defaultProps={okBtnText:"Ok",clearBtnText:"Clear",cancelBtnText:"Cancel"};var U=function(t){var n=t.title,a=e.useContext(q),r=a.weekdaysShort,l=a.monthsShort,i=a.selectedDate;return c.default.createElement("div",{className:"datepicker-header"},c.default.createElement("div",{className:"datepicker-title"},c.default.createElement("span",{className:"datepicker-title-text"},n)),c.default.createElement("div",{className:"datepicker-date"},c.default.createElement("span",{className:"datepicker-date-text"},r[i?i.getDay():(new Date).getDay()],","," ",l[i?i.getMonth():(new Date).getMonth()]," ",i?i.getDate():(new Date).getDate())))},z=function(){var t=e.useContext(q),n=t.view,a=t.setView,r=t.activeDate,l=t.setActiveDate,i=t.monthsFull,o=t.min,u=t.max,s=t.yearScope,d=function(e){if("days"===n){var t=e?new Date(b(r),y(r)+1,k(r)):new Date(b(r),y(r)-1,k(r));e?!A(w(t,-1),"days",1,o,u)&&l(t):!L(w(t,1),"days",1,o,u)&&l(t)}else if("years"===n){t=e?new Date(b(r)+24,y(r),p(r)):new Date(b(r)-24,y(r),p(r));e?u?s[0]+24<b(u)&&l(t):l(t):o?s[1]-24>b(o)&&l(t):l(t)}else if("months"===n){t=e?new Date(b(r)+1,y(r),p(r)):new Date(b(r)-1,y(r),p(r));e?!A(E(t,-1),"months",1,o,u)&&l(t):!L(E(t,1),"months",1,o,u)&&l(t)}};return c.default.createElement("div",{className:"datepicker-date-controls"},"days"===n&&c.default.createElement("button",{tabIndex:0,className:"datepicker-view-change-button",onClick:function(){return a("years")}},i[r.getMonth()]," ",r.getFullYear()),"years"===n&&c.default.createElement("button",{tabIndex:0,className:"datepicker-view-change-button",onClick:function(){return a("days")}},s[0]," - ",s[1]),"months"===n&&c.default.createElement("button",{tabIndex:0,className:"datepicker-view-change-button",onClick:function(){return a("days")}},b(r)),c.default.createElement("div",{className:"datepicker-arrow-controls"},c.default.createElement("button",{tabIndex:0,className:"datepicker-previous-button",onClick:function(){return d(!1)}}),c.default.createElement("button",{tabIndex:0,className:"datepicker-next-button",onClick:function(){return d(!0)}})))},K=function(t){var n,a=t.className,r=t.size,l=t.contrast,i=t.value,d=t.defaultValue,f=t.id,m=t.labelClass,p=t.wrapperClass,v=t.wrapperStyle,y=t.wrapperTag,b=t.label,k=t.onChange,g=t.children,h=t.labelRef,E=t.labelStyle,w=t.inputRef,D=t.type,S=t.onBlur,x=t.readonly,C=s(t,["className","size","contrast","value","defaultValue","id","labelClass","wrapperClass","wrapperStyle","wrapperTag","label","onChange","children","labelRef","labelStyle","inputRef","type","onBlur","readonly"]),N=e.useState(i||d),T=N[0],O=N[1],I=e.useState(0),B=I[0],R=I[1],F=e.useState(!(!i&&!d)),A=F[0],L=F[1],M=e.useRef(null),P=e.useRef(null),V=h||M,q=w||P,W=o.default("form-outline",l&&"form-white",p),j=o.default("form-control",A&&"active","date"===D&&"active",r&&"form-control-".concat(r),a),H=o.default("form-label",m);e.useEffect((function(){void 0!==i&&L(!!i)}),[i]),e.useEffect((function(){void 0!==d&&L(!!d)}),[d]);var Y=e.useCallback((function(){var e;(null===(e=V.current)||void 0===e?void 0:e.clientWidth)&&R(.8*V.current.clientWidth+8)}),[V]);e.useEffect((function(){Y()}),[null===(n=V.current)||void 0===n?void 0:n.clientWidth,Y]);return c.default.createElement(y,{className:W,style:v},c.default.createElement("input",u({type:D,readOnly:x,className:j,onBlur:function(e){L(""!==T),null==S||S(e)},onChange:function(e){O(e.target.value),null==k||k(e)},onFocus:Y,value:i,defaultValue:d,id:f,ref:q},C)),b&&c.default.createElement("label",{className:H,style:E,htmlFor:f,ref:V},b),c.default.createElement("div",{className:"form-notch"},c.default.createElement("div",{className:"form-notch-leading"}),c.default.createElement("div",{className:"form-notch-middle",style:{width:B}}),c.default.createElement("div",{className:"form-notch-trailing"})),g)};K.defaultProps={wrapperTag:"div",readonly:!1};var G=function(t){var n=t.labelText,a=t.inline,r=t.setReferenceElement,l=t.inputClasses,i=t.value,d=t.style,f=t.inputStyle,m=t.setIsOpen,p=t.icon,v=t.input,y=t.inputToggle,b=t.setDatepickerValue,k=t.format,g=s(t,["labelText","inline","setReferenceElement","inputClasses","value","style","inputStyle","setIsOpen","icon","input","inputToggle","setDatepickerValue","format"]),h=e.useContext(q),E=h.monthsFull,w=h.monthsShort,D=h.setSelectedDate,S=h.setActiveDate,C=o.default(i?"active":"",l),N=e.useRef(null);e.useEffect((function(){var e;if(!y){var t=null===(e=N.current)||void 0===e?void 0:e.parentNode,n=function(e,t,n){var a=document.createElement("button"),r=document.createElement("div");a.id="datepicker-toggle-".concat(Math.floor(10001*Math.random())),a.tabIndex=0,a.type="button",a.style.pointerEvents="auto";var l=document.createElement("i");l.className="".concat(e," fa-").concat(t," datepicker-icon"),n&&a.appendChild(l);var c=n?a:l;return c.classList.add("datepicker-toggle-button"),{div:r,selector:c}}(p,"sm",!0),a=n.div,r=n.selector;return null==t||t.insertBefore(a,N.current),null==t||t.insertBefore(r,N.current),r.addEventListener("click",(function(){return m((function(e){return!e}))})),function(){r.removeEventListener("click",(function(){return m((function(e){return!e}))})),null==t||t.removeChild(r)}}}),[p,m,y]);return c.default.createElement(K,u({className:C,label:n,inputRef:a?r:v,labelRef:N,wrapperClass:"datepicker",value:i,onChange:function(e){var t=P(e.target.value,k,E,w);b(e.target.value),t&&x(t)?(S(t),D(t)):(S(new Date),D(void 0))},style:f,wrapperStyle:d,onClick:function(){y&&m(!0)}},g))},Q=function(t){var n=t.setIsClosing,a=t.closeOnEsc,r=t.isOpen,l=t.activeDate,c=t.setActiveDate,i=t.min,o=t.max,u=t.view,s=t.setView,d=t.setSelectedDate,f=t.filter,m=t.setInlineDate,v=e.useState(3),k=v[0],h=v[1],S=e.useRef(null),x=e.useCallback((function(e){var t,r,v;if(a&&"Escape"===e.key&&n(!0),e.preventDefault(),e.shiftKey||"Tab"!==e.key){if("Enter"===e.key)3!==k&&document.activeElement&&document.activeElement.click();else if(e.shiftKey&&"Tab"===e.key){var x;(x=null===(r=S.current)||void 0===r?void 0:r.querySelectorAll('[tabindex="0"]'))&&h(0===k?x.length-1:k-1)}}else(x=null===(t=S.current)||void 0===t?void 0:t.querySelectorAll('[tabindex="0"]'))&&(k===x.length-1?h(0):h(k+1));(null===(v=S.current)||void 0===v?void 0:v.querySelector(".focused"))&&4!==k&&("days"===u?function(e,t,n,a,r,l,c,i){switch(e){case"ArrowLeft":t((function(e){return D(e,-1)}));break;case"ArrowRight":t((function(e){return D(e,1)}));break;case"ArrowUp":t((function(e){return D(e,-7)}));break;case"ArrowDown":t((function(e){return D(e,7)}));break;case"Home":t((function(e){return D(e,1-p(e))}));break;case"End":t((function(e){return D(e,g(e)-p(e))}));break;case"PageUp":t((function(e){return w(e,-1)}));break;case"PageDown":t((function(e){return w(e,1)}));break;case"Enter":if(B(n,a,r,c))return;i(n),l(n);break;case" ":if(!c||c(n)){if(B(n,a,r,c))return;i(n),l(n)}break;default:;}}(e.key,c,l,i,o,d,f,m):"years"===u?function(e,t,n,a,r,l,c){switch(e){case"ArrowLeft":n((function(e){return E(e,-1)}));break;case"ArrowRight":n((function(e){return E(e,1)}));break;case"ArrowUp":n((function(e){return E(e,-4)}));break;case"ArrowDown":n((function(e){return E(e,4)}));break;case"Home":n((function(e){return E(e,-O(e,24))}));break;case"End":n((function(e){return E(e,24-O(e,24)-1)}));break;case"PageUp":n((function(e){return E(e,-24)}));break;case"PageDown":n((function(e){return E(e,24)}));break;case"Enter":!F(b(t),a,r)&&l("months");break;case" ":return void(!F(b(t),a,r)&&c(t));default:;}}(e.key,l,c,i,o,s,d):"months"===u&&function(e,t,n,a,r,l,c,i){switch(e){case"ArrowLeft":n((function(e){return w(e,-1)}));break;case"ArrowRight":n((function(e){return w(e,1)}));break;case"ArrowUp":n((function(e){return w(e,-4)}));break;case"ArrowDown":n((function(e){return w(e,4)}));break;case"Home":n((function(e){return w(e,-y(e))}));break;case"End":n((function(e){return w(e,11-y(e))}));break;case"PageUp":n((function(e){return E(e,-1)}));break;case"PageDown":n((function(e){return E(e,1)}));break;case"Enter":!B(t,a,r,i)&&l("days");break;case" ":return void(!B(t,a,r,i)&&c(t));default:;}}(e.key,l,c,i,o,s,d,f))}),[l,u,f,o,i,a,k,n,s,c,d,m]);return e.useEffect((function(){var e,t,n=null===(e=S.current)||void 0===e?void 0:e.querySelectorAll('[tabindex="0"]');if(n){var a=n[k];if("TD"!==a.tagName){a.focus();var r=null===(t=S.current)||void 0===t?void 0:t.querySelector(".focused");null==r||r.classList.remove("focused")}else n[k-1].blur(),a.classList.add("focused")}}),[k]),e.useEffect((function(){return r&&document.addEventListener("keydown",x),function(){document.removeEventListener("keydown",x)}}),[x,r]),{tabCount:k,modalRef:S}};module.exports=function(t){var n=t.closeOnEsc,l=void 0===n?m.closeOnEsc:n,o=t.title,p=void 0===o?m.title:o,v=t.weekdaysNarrow,y=void 0===v?m.weekdaysNarrow:v,k=t.monthsFull,g=void 0===k?m.monthsFull:k,h=t.monthsShort,E=void 0===h?m.monthsShort:h,w=t.weekdaysFull,D=void 0===w?m.weekdaysFull:w,S=t.weekdaysShort,C=void 0===S?m.weekdaysShort:S,N=t.filter,T=t.inline,I=t.className,B=t.min,R=t.max,F=t.format,A=void 0===F?m.format:F,L=t.okBtnText,M=void 0===L?m.okBtnText:L,j=t.clearBtnText,K=void 0===j?m.clearBtnText:j,X=t.cancelBtnText,Z=void 0===X?m.cancelBtnText:X,$=t.inputToggle,_=t.customIcon,ee=void 0===_?m.customIcon:_,te=t.inputLabel,ne=void 0===te?m.inputLabel:te,ae=t.inputStyle,re=t.startDay,le=void 0===re?m.startDay:re,ce=t.views,ie=void 0===ce?m.views:ce,oe=t.style,ue=t.defaultValue,se=void 0===ue?"":ue,de=t.onChange,fe=t.onClose,me=t.onOpen,pe=t.value,ve=t.wrapperClass,ye=s(t,["closeOnEsc","title","weekdaysNarrow","monthsFull","monthsShort","weekdaysFull","weekdaysShort","filter","inline","className","min","max","format","okBtnText","clearBtnText","cancelBtnText","inputToggle","customIcon","inputLabel","inputStyle","startDay","views","style","defaultValue","onChange","onClose","onOpen","value","wrapperClass"]),be=e.useState(!1),ke=be[0],ge=be[1],he=e.useState(!1),Ee=he[0],we=he[1],De=e.useState(new Date),Se=De[0],xe=De[1],Ce=e.useState(new Date),Ne=Ce[0],Te=Ce[1],Oe=e.useState(ie),Ie=Oe[0],Be=Oe[1],Re=e.useState(pe||se),Fe=Re[0],Ae=Re[1],Le=e.useState(!1),Me=Le[0],Pe=Le[1],Ve=e.useState(),qe=Ve[0],We=Ve[1],je=e.useState(),He=je[0],Ye=je[1],Je=e.useState(y),Ue=Je[0],ze=Je[1],Ke=e.useState([0,0]),Ge=Ke[0],Qe=Ke[1],Xe=e.useRef(null),Ze=e.useRef(null),$e=e.useRef(se&&!0),_e=a.usePopper(He,qe,u({placement:"bottom-start",modifiers:[r.flip]},{})),et=_e.styles,tt=_e.attributes,nt=function(e){if(T&&T){var t=V(e,A,C,D,E,g);Ae(t),we(!0)}},at=Q({setIsClosing:we,closeOnEsc:l,isOpen:ke,activeDate:Se,setActiveDate:xe,min:B,max:R,view:Ie,setView:Be,setSelectedDate:Te,filter:N,setInlineDate:nt}),rt=at.tabCount,lt=at.modalRef;return function(t){var n=t.isOpen,a=t.inline;e.useEffect((function(){var e=window.innerWidth>document.documentElement.clientWidth&&window.innerWidth>=576;if(!a)return n&&e?(document.body.style.overflow="hidden",document.body.style.paddingRight="17px"):(document.body.style.overflow="",document.body.style.paddingRight=""),function(){document.body.style.overflow="",document.body.style.paddingRight=""}}),[n,a])}({isOpen:ke,inline:T}),function(t){var n=t.isOpen,a=t.inline,r=t.popperElement,l=t.referenceElement,c=t.setIsClosing,i=t.backdropRef,o=e.useCallback((function(e){var t;a?!((null==r?void 0:r.contains(e.target))||(null===(t=null==l?void 0:l.parentNode)||void 0===t?void 0:t.contains(e.target))||e.target.classList.contains("datepicker-view-change-button")||e.target.classList.contains("datepicker-large-cell-content"))&&c(!0):e.target===i.current&&c(!0)}),[r,l,i,a,c]);e.useEffect((function(){return n&&document.addEventListener("click",o),function(){document.removeEventListener("click",o)}}),[o,n])}({isOpen:ke,inline:T,referenceElement:He,popperElement:qe,setIsClosing:we,backdropRef:Xe}),e.useEffect((function(){var e=b(Se)-O(Se,24);Qe([e,e+23])}),[Se]),e.useEffect((function(){var e=y.slice(le).concat(y.slice(0,le));ze(e)}),[y,le]),e.useEffect((function(){if(Ee){var e=T?He:Ze.current,t=null==e?void 0:e.parentNode,n=null==t?void 0:t.querySelector("button");n?n.focus():null==e||e.focus(),null==fe||fe();var a=setTimeout((function(){ge(!1),Pe(!1)}),300);return function(){clearTimeout(a)}}}),[Ee,Ze,He,T,fe]),e.useEffect((function(){if(ke){var e=T?He:Ze.current,t=null==e?void 0:e.parentNode,n=null==t?void 0:t.querySelector("button");n?n.blur():null==e||e.blur(),null==me||me()}}),[ke,Ze,He,T,me]),e.useEffect((function(){if($e.current){var e=P(Fe,A,g,E);e&&x(e)&&(xe(e),Te(e)),$e.current=!1}}),[se,Fe,A,g,E]),e.useEffect((function(){var e=pe&&P(pe,A,g,E);e&&x(e)&&(xe(e),Te(e),Ae(pe))}),[pe,A,g,E]),e.useEffect((function(){ke||(we(!1),Be(ie),Fe||(xe(new Date),Te(void 0)))}),[ke,ie,Fe]),e.useEffect((function(){null==de||de(Fe,Se)}),[Fe]),e.useEffect((function(){var e=setTimeout((function(){ke&&Pe(!0)}),10);return function(){clearTimeout(e)}}),[ke]),c.default.createElement(q.Provider,{value:{view:Ie,setView:Be,activeDate:Se,setActiveDate:xe,selectedDate:Ne,setSelectedDate:Te,weekdaysShort:C,monthsShort:E,monthsFull:g,min:B,max:R,setIsClosing:we,weekdaysFull:D,yearScope:Ge,tabCount:rt,isClosing:Ee,isOpen:ke}},c.default.createElement(c.default.Fragment,null,c.default.createElement(G,u({inputClasses:I,labelText:ne,inline:T,setReferenceElement:Ye,value:Fe,setDatepickerValue:Ae,setIsOpen:ge,style:oe,inputStyle:ae,format:A,icon:ee,input:Ze,inputToggle:$},ye)),ke&&i.default.createPortal(c.default.createElement(c.default.Fragment,null,c.default.createElement(f,{className:ve,dropdown:T,isOpen:Ee,styles:et,attributes:tt,setPopperElement:We,style:{display:Me?"block":"none"}},!T&&c.default.createElement(U,{title:p}),c.default.createElement("div",{className:"datepicker-main",ref:lt},c.default.createElement(z,null),c.default.createElement("div",{className:"datepicker-view"},"days"===Ie&&c.default.createElement(H,{startWeekdays:Ue,startDay:le,filter:N,inlineDayClick:nt}),"years"===Ie&&c.default.createElement(Y,null),"months"===Ie&&c.default.createElement(J,null)),!T&&c.default.createElement(W,{okBtnText:M,clearBtnText:K,cancelBtnText:Z,setValue:Ae,selectDate:function(e){var t=e&&V(e,A,C,D,E,g);t&&Ae(t),we(!0)}}))),!T&&c.default.createElement(d,{tag:"div",animation:Ee?"fade-out":"fade-in",start:"onLoad",animationRef:Xe,className:"datepicker-backdrop",style:{display:Me?"block":"none"},duration:300})),document.body)))};
