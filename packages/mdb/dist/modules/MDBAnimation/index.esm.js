import n from"clsx";import t,{useState as e,useRef as a,useCallback as i,useEffect as o}from"react";var r=function(){return r=Object.assign||function(n){for(var t,e=1,a=arguments.length;e<a;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},r.apply(this,arguments)};var l=function(l){var c=l.animation,s=l.animationRef,u=l.className,m=l.children,f=l.delay,d=l.infinite,y=l.duration,p=l.enableTarget,g=l.target,v=l.repeatOnScroll,b=l.reset,O=l.setTarget,h=l.start,w=l.style,E=l.tag,C=function(n,t){var e={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(e[a]=n[a]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(n);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(n,a[i])&&(e[a[i]]=n[a[i]])}return e}(l,["animation","animationRef","className","children","delay","infinite","duration","enableTarget","target","repeatOnScroll","reset","setTarget","start","style","tag"]),T=e(!!g),D=T[0],j=T[1],N=e(!1),S=N[0],I=N[1],P=a(!0),x=n(D&&"animation",D&&c,u),L=a(null),k=s||L,H=function(){j(!D)},R=i((function(){if(k.current){var n=k.current.getBoundingClientRect().top+document.body.scrollTop,t=k.current.offsetHeight,e=n<=window.innerHeight&&n+t>=0;e&&P.current?(P.current=!1,f?setTimeout((function(){j(!0),I(!0)}),f):(j(!0),I(!0))):!e&&v&&(I(!1),P.current=!0)}}),[k,v,f]);return o((function(){return"onScroll"===h&&window.addEventListener("scroll",R),function(){window.removeEventListener("scroll",R)}}),[R,h]),o((function(){j(!!g)}),[g]),o((function(){"onLoad"===h&&j(!0)}),[h]),o((function(){D&&!d&&b&&setTimeout((function(){j(!D),p&&O(!1)}),y)}),[D,y,p,O,d,b]),t.createElement(t.Fragment,null,"onClick"===h&&!1===p&&t.createElement(E,r({onClick:H,className:x,ref:k},C,{style:r(r({},w),{animationDuration:"".concat(y,"ms"),animationIterationCount:d?"infinite":null,animationDelay:f?"".concat(f,"ms"):null})}),m),"onHover"===h&&!1===p&&t.createElement(E,r({onMouseEnter:H,className:x,ref:k},C,{style:r(r({},w),{animationDuration:"".concat(y,"ms"),animationIterationCount:d?"infinite":null,animationDelay:f?"".concat(f,"ms"):null})}),m),("onLoad"===h||!0===p)&&t.createElement(E,r({className:x,ref:k},C,{style:r(r({},w),{animationDuration:"".concat(y,"ms"),animationIterationCount:d?"infinite":null,animationDelay:f?"".concat(f,"ms"):null})}),m),"onScroll"===h&&t.createElement(E,r({className:x,ref:k},C,{style:r(r({},w),{animationDuration:"".concat(y,"ms"),visibility:S?"visible":"hidden",animationIterationCount:d?"infinite":null})}),m))};l.defaultProps={enableTarget:!1,target:!1,tag:"div",start:"onClick",duration:500,animation:"slide-right"};export{l as default};
