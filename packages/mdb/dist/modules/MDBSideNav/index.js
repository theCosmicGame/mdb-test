"use strict";var e=require("clsx"),t=require("react"),n=require("react-perfect-scrollbar");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=o(e),a=o(t),s=o(n),i=function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};function l(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}var c=a.default.createContext({color:"primary"});!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}("/*\n * Container style\n */\n.ps {\n  overflow: hidden !important;\n  overflow-anchor: none;\n  -ms-overflow-style: none;\n  touch-action: auto;\n  -ms-touch-action: auto;\n}\n\n/*\n * Scrollbar rail styles\n */\n.ps__rail-x {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  height: 15px;\n  /* there must be 'bottom' or 'top' for ps__rail-x */\n  bottom: 0px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-y {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  width: 15px;\n  /* there must be 'right' or 'left' for ps__rail-y */\n  right: 0;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps--active-x > .ps__rail-x,\n.ps--active-y > .ps__rail-y {\n  display: block;\n  background-color: transparent;\n}\n\n.ps:hover > .ps__rail-x,\n.ps:hover > .ps__rail-y,\n.ps--focus > .ps__rail-x,\n.ps--focus > .ps__rail-y,\n.ps--scrolling-x > .ps__rail-x,\n.ps--scrolling-y > .ps__rail-y {\n  opacity: 0.6;\n}\n\n.ps .ps__rail-x:hover,\n.ps .ps__rail-y:hover,\n.ps .ps__rail-x:focus,\n.ps .ps__rail-y:focus,\n.ps .ps__rail-x.ps--clicking,\n.ps .ps__rail-y.ps--clicking {\n  background-color: #eee;\n  opacity: 0.9;\n}\n\n/*\n * Scrollbar thumb styles\n */\n.ps__thumb-x {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, height .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\n  height: 6px;\n  /* there must be 'bottom' for ps__thumb-x */\n  bottom: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__thumb-y {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, width .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\n  width: 6px;\n  /* there must be 'right' for ps__thumb-y */\n  right: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-x:hover > .ps__thumb-x,\n.ps__rail-x:focus > .ps__thumb-x,\n.ps__rail-x.ps--clicking .ps__thumb-x {\n  background-color: #999;\n  height: 11px;\n}\n\n.ps__rail-y:hover > .ps__thumb-y,\n.ps__rail-y:focus > .ps__thumb-y,\n.ps__rail-y.ps--clicking .ps__thumb-y {\n  background-color: #999;\n  width: 11px;\n}\n\n/* MS supports */\n@supports (-ms-overflow-style: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n.scrollbar-container {\n  position: relative;\n  height: 100%; }");var u=function(e){var n=e.className,o=e.sidenav,c=e.tag,u=e.handlers,p=e.wheelSpeed,h=e.wheelPropagation,d=e.swipeEasing,v=e.minScrollbarLength,f=e.maxScrollbarLength,m=e.scrollingThreshold,g=e.useBothWheelAxes,b=e.suppressScrollX,y=e.suppressScrollY,w=e.scrollXMarginOffset,x=e.scrollYMarginOffset,E=e.scrollBarRef,_=e.children,S=l(e,["className","sidenav","tag","handlers","wheelSpeed","wheelPropagation","swipeEasing","minScrollbarLength","maxScrollbarLength","scrollingThreshold","useBothWheelAxes","suppressScrollX","suppressScrollY","scrollXMarginOffset","scrollYMarginOffset","scrollBarRef","children"]),k=r.default(o&&"sidenav-menu",n),L=t.useRef(null);t.useEffect((function(){E&&E(L)}),[E]);var C=i(i({},u),{wheelSpeed:p,wheelPropagation:h,swipeEasing:d,minScrollbarLength:v,maxScrollbarLength:f,scrollingThreshold:m,useBothWheelAxes:g,suppressScrollX:b,suppressScrollY:y,scrollXMarginOffset:w,scrollYMarginOffset:x});return a.default.createElement(s.default,i({className:k,ref:L,component:c,options:C},S),_)};u.defaultProps={tag:"div",handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],wheelSpeed:1,wheelPropagation:!0,swipeEasing:!0,minScrollbarLength:void 0,maxScrollbarLength:void 0,scrollingThreshold:1e3,useBothWheelAxes:!1,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0};var p=function(e){var t=e.touches[0];return{x:t.clientX,y:t.clientY}},h=function(e){var t=e.x,n=e.y;return{x:{direction:t<0?"left":"right",value:Math.abs(t)},y:{direction:n<0?"up":"down",value:Math.abs(n)}}},d=function(e,t){var n=e.x,o=e.y;return{x:n-t.x,y:o-t.y}},v=function(e){var t=e.x1,n=e.x2,o=e.y1;return{x:t+(n-t)/2,y:o+(e.y2-o)/2}},f=function(e){var t,n,o,r,a,s=e[0],i=e[1],l={x1:s.clientX,x2:i.clientX,y1:s.clientY,y2:i.clientY};return[(t=l,n=t.x1,o=t.x2,r=t.y1,a=t.y2,Math.sqrt(Math.pow(o-n,2)+Math.pow(a-r,2))),v(l)]},m=function(e,t){return"number"==typeof e&&"number"==typeof t&&!isNaN(e)&&!isNaN(t)},g=function(e){var n=e.tag,o=e.children,r=e.touchRef,s=e.type,c=e.threshold,u=e.allDirections,v=e.onSwipe,g=e.onSwipeLeft,b=e.onSwipeRight,y=e.onSwipeUp,w=e.onSwipeDown,x=e.onPan,E=e.onPanLeft,_=e.onPanRight,S=e.onPanUp,k=e.onPanDown,L=e.onPinch,C=e.onRotate,O=e.onTap,P=e.onPress,R=e.pointers,M=e.interval,T=e.taps,N=e.duration,X=l(e,["tag","children","touchRef","type","threshold","allDirections","onSwipe","onSwipeLeft","onSwipeRight","onSwipeUp","onSwipeDown","onPan","onPanLeft","onPanRight","onPanUp","onPanDown","onPinch","onRotate","onTap","onPress","pointers","interval","taps","duration"]),D=t.useRef(null),Y=r||D,B=t.useState(null),j=B[0],A=B[1],H=t.useState(null),U=H[0],q=H[1],W=t.useState(null),I=W[0],z=W[1],V=t.useState(null),F=V[0],G=V[1],J=t.useState({x:0,y:0}),K=J[0],Q=J[1],Z=t.useState(null),$=Z[0],ee=Z[1],te=t.useState(0),ne=te[0],oe=te[1],re=t.useState(0),ae=re[0],se=re[1],ie=t.useState(0),le=ie[0],ce=ie[1],ue=t.useState(0),pe=ue[0],he=ue[1],de=t.useState(0),ve=de[0],fe=de[1],me=t.useState({x:0,y:0}),ge=me[0],be=me[1],ye=t.useState(0),we=ye[0],xe=ye[1],Ee=t.useState(null),_e=Ee[0],Se=Ee[1],ke=t.useRef();t.useEffect((function(){"tap"===s&&(1===we&&(ke.current=window.setTimeout((function(){xe(0)}),M)),we===T&&(window.clearTimeout(ke.current),xe(0),O&&O(_e)))}),[we,M,T,O,_e,s]);var Le=t.useCallback((function(e){e.touches.length===R&&(xe(we+1),Se(e))}),[R,we]),Ce=t.useCallback((function(){}),[]),Oe=t.useCallback((function(){}),[]),Pe=t.useCallback((function(e){e.touches.length===R&&(ke.current=window.setTimeout((function(){P&&P(e,N)}),N))}),[N,R,P]),Re=t.useCallback((function(){}),[]),Me=t.useCallback((function(){window.clearTimeout(ke.current)}),[]),Te=t.useCallback((function(e){A(p(e))}),[]),Ne=t.useCallback((function(e){return"left"===e?g:"right"===e?b:"up"===e?y:"down"===e?w:void 0}),[w,g,b,y]),Xe=t.useCallback((function(e){if("touchmove"===e.type&&e.preventDefault(),j){var t=p(e),n={x:t.x-j.x,y:t.y-j.y},o=h(n),r=o.x,a=o.y;if(u){if(c&&a.value<c&&r.value<c)return;var s=a.value>r.value?a.direction:r.direction;return v&&v(e,{direction:s}),void A(null)}var i=b||g?"x":"y";if(c&&o[i].value>c){var l=Ne(o[i].direction);l&&l(e),A(null)}}}),[u,v,j,c,b,g,Ne]),De=t.useCallback((function(){A(null)}),[]),Ye=t.useCallback((function(e){q(p(e)),z(e)}),[]),Be=t.useCallback((function(e){return"left"===e?E:"right"===e?_:"up"===e?S:"down"===e?k:void 0}),[k,E,_,S]),je=t.useCallback((function(e){"touchmove"===e.type&&e.preventDefault();var t=p(e),n=p(I),o=d(t,U),r=d(t,n),a=h(o),s=h(r),i=a.x,l=a.y;c&&u&&(l.value>c||i.value>c)&&x&&x(e);var v=E||_?"x":"y";if(c&&a[v].value>c){var f=Be(s[v].direction);f&&f(e)}z(e)}),[u,I,U,c,x,E,_,Be]),Ae=t.useCallback((function(e){"touchend"===e.type&&e.preventDefault(),q(null),z(null)}),[]),He=t.useCallback((function(e){if(e.touches.length===R){"touchstart"===e.type&&e.preventDefault();var t=f(e.touches),n=t[0],o=t[1];G(n),q(n),Q(o)}}),[R]),Ue=t.useCallback((function(e){e.touches.length===R&&("touchmove"===e.type&&e.preventDefault(),G(f(e.touches)[0]),"number"==typeof U&&"number"==typeof F&&ee(F/U),m(U,F)&&"object"==typeof K&&(c&&K.x>c||c&&K.y>c)&&(q(F),L&&L(e,{ratio:$,origin:K})))}),[R,U,F,c,L,K,$]),qe=t.useCallback((function(){m(U,F)&&q(null)}),[U,F]),We=t.useCallback((function(e){if("touchstart"===e.type&&e.preventDefault(),1===e.touches.length&&1===R){var t=e.target.element.getBoundingClientRect(),n=t.left,o=t.top,r=t.width,a=t.height;be({x:n+r/2,y:o+a/2})}else{if(2!==e.touches.length||2!==R)return;var s=e.touches,i=s[0],l=s[1],c={x1:l.clientX,x2:i.clientX,y1:l.clientY,y2:i.clientY};be({x:(c.x1+c.x2)/2,y:(c.y1+c.y2)/2})}}),[R]),Ie=t.useCallback((function(e){var t;if("touchmove"===e.type&&e.preventDefault(),1===e.touches.length&&1===R)t=e.touches[0];else{if(2!==e.touches.length||2!==R)return;t=function(e){for(var t=null,n=Number.MIN_VALUE,o=0,r=e;o<r.length;o++){var a=r[o];a.clientX>n&&(t=a)}return t}(e.touches)}oe(function(e,t,n,o){var r=Math.atan2(o-t,n-e)*(180/Math.PI);return Math.round(r+360)%360}(ge.x,ge.y,t.clientX,t.clientY)),le?(fe(ne-ae),he(pe+ve)):(se(ne),ce(ne),he(0),fe(0)),se(ne),C&&C(e,{currentAngle:ne,distance:pe,change:ve})}),[ve,ne,ae,ge,C,pe,le,R]),ze=t.useCallback((function(e){"touchend"===e.type&&e.preventDefault(),oe(0),ce(0),se(0),fe(0),he(0)}),[]);return t.useEffect((function(){var e=Y.current;return"tap"===s&&(e.addEventListener("touchstart",Le),e.addEventListener("touchmove",Ce),e.addEventListener("touchend",Oe)),"press"===s&&(e.addEventListener("touchstart",Pe),e.addEventListener("touchmove",Re),e.addEventListener("touchend",Me)),"swipe"===s&&(e.addEventListener("touchstart",Te),e.addEventListener("touchmove",Xe),e.addEventListener("touchend",De)),"pan"===s&&(e.addEventListener("touchstart",Ye),e.addEventListener("touchmove",je),e.addEventListener("touchend",Ae)),"pinch"===s&&(e.addEventListener("touchstart",He),e.addEventListener("touchmove",Ue),e.addEventListener("touchend",qe)),"rotate"===s&&(e.addEventListener("touchstart",We),e.addEventListener("touchmove",Ie),e.addEventListener("touchend",ze)),function(){"tap"===s&&(e.removeEventListener("touchstart",Le),e.removeEventListener("touchmove",Ce),e.removeEventListener("touchend",Oe)),"press"===s&&(e.removeEventListener("touchstart",Pe),e.removeEventListener("touchmove",Re),e.removeEventListener("touchend",Me)),"swipe"===s&&(e.removeEventListener("touchstart",Te),e.removeEventListener("touchmove",Xe),e.removeEventListener("touchend",De)),"pan"===s&&(e.removeEventListener("touchstart",Ye),e.removeEventListener("touchmove",je),e.removeEventListener("touchend",Ae)),"pinch"===s&&(e.removeEventListener("touchstart",He),e.removeEventListener("touchmove",Ue),e.removeEventListener("touchend",qe)),"rotate"===s&&(e.removeEventListener("touchstart",We),e.removeEventListener("touchmove",Ie),e.removeEventListener("touchend",ze))}}),[Y,Le,Ce,Oe,Pe,Re,Me,Te,Xe,De,Ye,je,Ae,He,Ue,qe,We,Ie,ze,s]),a.default.createElement(n,i({ref:Y},X),o)};g.defaultProps={tag:"div",interval:500,duration:250,taps:1,pointers:1,threshold:10,allDirections:!1};var b=function(e){var n=e.className,o=e.isOpen,s=e.getOpenState,p=e.children,h=e.color,d=e.backdrop,v=e.slim,f=e.slimCollapsed,m=e.constant,b=e.bgColor,y=e.right,w=e.relative,x=e.absolute,E=e.light,_=e.mode,S=e.contentRef,k=e.closeOnEsc,L=e.onShow,C=e.onHide,O=e.onExpand,P=e.onCollapse,R=l(e,["className","isOpen","getOpenState","children","color","backdrop","slim","slimCollapsed","constant","bgColor","right","relative","absolute","light","mode","contentRef","closeOnEsc","onShow","onHide","onExpand","onCollapse"]),M=t.useState(o),T=M[0],N=M[1],X=t.useState(o),D=X[0],Y=X[1],B=t.useState(0),j=B[0],A=B[1],H=t.useState(f),U=H[0],q=H[1],W=r.default("sidenav",h&&"sidenav-".concat(h),b&&"bg-".concat(b),T?"sidenav-shown":"sidenav-hidden",w&&"sidenav-relative",x&&"sidenav-absolute",E&&"sidenav-theme-light",y&&"sidenav-right",v&&"sidenav-slim",v&&U&&"sidenav-slim-collapsed",n),I=r.default("sidenav-content",T?y?"right-side-shown":"side-shown":"side-hidden"),z=r.default("sidenav-content",T?y?"right-push-shown":"push-shown":"push-hidden"),V=t.useRef(null),F=t.useCallback((function(e){var t;m||!d||e.target===V.current||(null===(t=V.current)||void 0===t?void 0:t.contains(e.target))||(N(!1),s&&s(!1))}),[V,s,m,d]),G=t.useCallback((function(e){k&&"Escape"===e.key&&(N(!1),s&&s(!1))}),[s,k]),J=t.useCallback((function(){var e;A(w||x?null===(e=V.current)||void 0===e?void 0:e.offsetHeight:window.innerHeight)}),[x,w]);return t.useEffect((function(){var e;A(null===(e=V.current)||void 0===e?void 0:e.offsetHeight)}),[]),t.useEffect((function(){S&&(S.className="push"===_?z:"side"===_?I:"sidenav-content")}),[_,S,I,z]),t.useEffect((function(){return T&&(document.addEventListener("click",F),document.addEventListener("keydown",G),window.addEventListener("resize",J)),function(){document.removeEventListener("click",F),document.removeEventListener("keydown",G),window.removeEventListener("resize",J)}}),[F,G,J,T]),t.useEffect((function(){v&&(q(f),f?null==P||P():null==O||O())}),[f,v]),t.useEffect((function(){N(o),s&&s(o)}),[o,s]),t.useEffect((function(){var e,t;return T?(Y(!0),e=setTimeout((function(){N(!0),null==L||L()}),4)):(N(!1),t=setTimeout((function(){Y(!1),null==C||C()}),300)),function(){clearTimeout(e),clearTimeout(t)}}),[T]),a.default.createElement(c.Provider,{value:{color:h}},a.default.createElement(g,i({type:"swipe",onSwipeLeft:function(){v&&T&&!U&&(q(!0),null==O||O())},onSwipeRight:function(){v&&T&&U&&(q(!1),null==P||P())},tag:"nav",className:W,touchRef:V},R),a.default.createElement(u,{suppressScrollX:!0,style:{height:j}},p)),d&&D&&a.default.createElement("div",{className:"sidenav-backdrop",style:{transition:"opacity 0.3s ease-out 0s",position:x?"absolute":"fixed",width:"100%",height:"100%",opacity:T?1:0}}))};b.defaultProps={color:"primary",slimCollapsed:!0,isOpen:!0,backdrop:!0,mode:"over",closeOnEsc:!0,constant:!1},module.exports=b;
